--- # Begin the yaml file 

revision_message: "This revision creates tables related to claim and service level diagnoses" 


# This is just a code block that gets appended in the header area.  Can include any python code.
# However, spacing is fragile.  The alignment and lack of quoting must be consistent as shown below.
imports: |
        ""
        

#-----------------------------------
# Tables
#-----------------------------------
tables: 
    claim_diagnosis9:
        comment: |    # This is the comment that is actually added to the schema. 
                """This table contains the claim level diagnosis information""" 
        schema: ims_med
        # Define the column names and properties. 
        columns: 
            # Define each column, datatype, and a comment on the field
            claim_id: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field captures the unique claim identifier which is generated by IMS."""
            icd9_code: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field contains an ICD-9 Diagnosis Code from position icd9_code_pos found on the CMS-1500 form."""
            icd9_code_pos: 
                dtype: sa.Integer 
                comment: |
                        """This contains the position of the icd9_code on the CMS-1500 form."""
        primary_key: 
            columns: ["claim_id",]

    claim_diagnosis10:
        comment: |    # This is the comment that is actually added to the schema. 
                """This table contains the claim level diagnosis information""" 
        schema: ims_med
        # Define the column names and properties. 
        columns: 
            # Define each column, datatype, and a comment on the field
            claim_id: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field captures the unique claim identifier which is generated by IMS."""
            icd10_code: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field contains an ICD-10 Diagnosis Code from position icd9_code_pos found on the CMS-1500 form."""
            icd10_code_pos: 
                dtype: sa.Integer 
                comment: |
                        """This contains the position of the icd10_code on the CMS-1500 form."""
        primary_key: 
            columns: ["claim_id",]

    service_diag_pos:
        comment: |    # This is the comment that is actually added to the schema. 
                """This table contains the service level diagnosis information""" 
        schema: ims_med
        # Define the column names and properties. 
        columns: 
            # Define each column, datatype, and a comment on the field
            claim_id: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field captures the unique claim identifier which is generated by IMS."""
            service_nbr: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field contains the service identifier within a claim (claim_id)."""
            claim_dx_code_pos: # This is the column name
                dtype: sa.String # data type
                comment: |
                        """This field contains the service-level diagnosis code position on the parent claim.  Its service level position ( i.e. primary diagnosis, secondary, etc..) is specified by sevice_dx_code_pos.
            service_dx_code_pos: 
                dtype: sa.Integer 
                comment: |
                        """This field indicates the service level diagnosis code position that claims_dx_code_pos is referring to. i.e. whether primary, secondary, etc.. service-level diagnosis code."""
        primary_key: 
            columns: ["claim_id","service_nbr"]


... # end the yaml field